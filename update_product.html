<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Update Product | Inventory System</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

  <!-- Navigation -->
  <nav>
    <ul style="list-style:none; display:flex; gap:20px;">
      <li><a href="{{ url_for('index') }}">Home</a></li>
      <li><a href="{{ url_for('about_page') }}">About Us</a></li>
      <li><a href="{{ url_for('faq_page') }}">FAQ</a></li>
    </ul>
  </nav>
  <hr>

  <h1>Update Product</h1>
  <div class="form-box">
    <label>Product ID:</label>
    <input type="number" id="productId" placeholder="Enter Product ID">

    <label>New Price:</label>
    <input type="number" step="0.01" id="newPrice" placeholder="Enter new price">

    <label>New Description:</label>
    <textarea id="newDescription" placeholder="Enter new description"></textarea>

    <button onclick="updateProduct()">Update Product</button>
    <p id="message"></p>
  </div>

  <script>
    async function updateProduct() {
      const id = document.getElementById("productId").value;
      const price = parseFloat(document.getElementById("newPrice").value);
      const desc = document.getElementById("newDescription").value;

      const res = await fetch(`http://127.0.0.1:5000/api/products/${id}`, {
        method: 'PUT',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ price, description: desc })
      });

      const data = await res.json();
      document.getElementById("message").textContent = data.message || "Updated!";
    }
  </script>
</body>
</html>
